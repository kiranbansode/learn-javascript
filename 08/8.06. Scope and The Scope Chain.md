# Scope and The Scope Chain

## Scoping

How our program's variables are organized and accesed. "Where do variables live ?" or "Where can we access a certain variable, and where not ?"

## Lexical scoping

Scoping is controlled by placement of functions and blocks in the code.

## Scope

Space or environment in which a certain variable is declared (variable environment in case of functions). There is global scope, function scope, and block scope.

## Scope of variable

Region of our code where a certain variable can be accessed.

## The 3 Types of Scope

### Global Scope

```js
const me = "Kiran";
const job = "teacher";
const year = 1989;
```

1. Outside of any function or block
2. Variable declared in global scope are accessible everywhere

### Function Scope

```js
function calcAge(birthYear) {
	const now = 2022;
	const age = now - birthYear;
	return age;
}

console.log(now); // ReferenceError
```

1. Variables are accessible only inside function, NOT outside
2. Also called `local scope`

### Block Scope (ES6)

```js
if (year >= 1981 && year <= 1995) {
	const millenial = true;
	const food = "Avocado toast";
}

console.log(millenial); // ReferenceError
```

1. Variables are accessible only inside block (block scoped)
2. ⚠️ HOWEVER, this is only applies to `let` and `const` variables!
3. Variables declared with `var` will be accessible outside block scope
4. Functions are also block scoped (only in strict mode)

> Variable Lookup is only happen from bottom to top, means from deeper scope to global scope not vise versa

## Scope Chain

Order in which functions are written in the code

It has nothing to do with order in which functions were called

## Summary

1. Scoping asks the question 'where do variables live ?' or 'Where can we access a certain variable, and where not ?'
2. There are 3 types of scope in JavaScript: the global scope, scopes defined by functions, and scopes defined by blocks
3. Only let and const variables are block scoped. Variables declared with var end up in the closest function scope
4. In JavaScript, we have lexical scoping, so the rules of where we can access variables are based on exactly where in the code functions and blocks are written
5. Every scope always has access to all the variables from all its outer scopes. This is the scope chain
6. When a variable is not in the current scope, the engine looks up in the scope chain until it finds the variable it's looking for. This is called variable lookup
7. The scope chain is a one-way street: a scope will never, ever have access to the variableof an inner scope
8. The scope chain in a certain scope is equal to adding together all the variablee environments of the all parent scopes.
9. The scope chain has nothing to do with the order in which functions were called. It does not affect the scope chain at all!
